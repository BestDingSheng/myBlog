---
title: js连等赋值面试题的思考思路
date: 2017-12-21 09:52:28
tags: js
---

昨晚看到了一道js的连等赋值的题目思考了很久一直没有解决，今天茅塞顿开貌似懂了点什么；

先来看段代码

```js
 var a = {n:1}
 var b = a;
 a = {n:2};
 console.log(a);
 console.log(b);
```
第一个log输出 {n:2}
第二个log输出 {n:1}
上面这段代码看懂了 我们在来看下面这个段代码
<!-- more -->
下面这段代码输出什么

```js
var a = {n:1};
var b = a;
a.x=a={n:2};
console.log(a.x);
console.log(b.x);
```
第一个log输出 undefined
第二个log输出 {n:2}

我的天，很多人百思不得其解这是为什么呢？ 

下面是我的思考思路
首先第一行 var a = {n:1} 这一行就是一个简单的创建一个对象然后赋值个a这个变量
第二行 var b = a; 这一行 把变量b也指向内存中的{n:1}这个对象；
第三行就是难点了这里很多人解说的思路都不一样但是我都没怎么看明白 我自己的思路是 首先连等赋值是从右道左边
就相当于是 a={n:2} a.x={n:2} 但是这边a.x的优先级要比=高所以解析是按下面这个样解析的

1 a.x={n:2} a={n:2} 执行a.x={n:2}的时候这时候a和b都是指向内存中{n:1}这个对象，就相当于在{n:1}这个对象中添加了x属性赋值了个{n:2}的值所以这个时候b也有了x属性

2下面一步a={n:2}这个时候有在内存中创建了个{n:2}的对象把a指向了这个对象，这个对象中没有x属性所以在a.x的时候等于undefined

我是这么理解的，不对的地方大佬可以指出小弟虚心学习 ~


